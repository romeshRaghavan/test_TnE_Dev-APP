<script type="text/javascript">
		var lang = new Lang();
		lang.dynamic('th', 'js/langpack/th.json');
        lang.dynamic('ru','js/langpack/russian.json');
        lang.dynamic('ae','js/langpack/arabic.json');
        lang.dynamic('tamil','js/langpack/tamil.json');
        lang.dynamic('hindi','js/langpack/hindi.json');
        lang.dynamic('ka','js/langpack/kannada.json');
		lang.init({
			defaultLang: 'en'
		});
</script>
<div class="deals">
    <div class="sap_tabs">	
         <div id="horizontalTab" style="style= display: block;width: 100%;margin: 0px;padding-top: 24px;">
               <ul class="resp-tabs-list">
				 <li lang="en" class="active" class="resp-tab-item resp-tab-active" aria-controls="tab_item-0" role="tab" onclick ="addHeader();"> Travel Request</li>
                 <li lang="en" class="resp-tab-item " aria-controls="tab_item-1" role="tab" onclick="addHeader();">Travel Expense</li>
				 <li lang="en" class="resp-tab-item " aria-controls="tab_item-2" role="tab" onclick ="fetchTravelSettlementExpFromMain();" >Sync</li>
                </ul>				  	 
				<div class="resp-tabs-container">
                    
    <div class="tab-1 resp-tab-content" aria-labelledby="tab_item-0">
<div class="modal-body clearfix">
        <div class="row" style="padding-left: 25px;padding-right: 25px;">
          <div class="col-lg-12 clearfix addanexpense">
            <h1 lang="en" >Add Travel Request</h1>
            <div class="expenseform clearfix" data-role="page" id="page1">
              <ul>
				<li>
					<input lang="en" id="travelTitle" type="text" placeholder="Travel Title">
				</li>
                <li>
					<input lang="en" id="travelType"  placeholder="Purpose Of Travel" type="hidden" style="width: 98%">
                </li>
				<li>
                  <input lang="en" id="trAccountHead" placeholder="Select Account Head" type="hidden" style="width: 98%">
                </li>
                <li>
                  <input lang="en" id="fromCitytown" placeholder="From Location" type="hidden" style="width: 98%">
                </li>
				
                <li>
                  <input lang="en" id="toCitytown" placeholder="To Location"  type="hidden" style="width: 98%">
                </li>
              </ul>
            </div>
          </div>
          <div class="col-lg-12">
            <ul id="myTab" class="nav nav-tabs">
              <li class="active" id="oneWay" onclick="resetRoundTrip();"><a lang="en" href="#service-one" data-toggle="tab">One Way</a></li>
              <li id="roundTrip" onclick="resetOneTrip();"><a lang="en" href="#service-two" data-toggle="tab">Round Trip</a></li>
            </ul>
            <div id="myTabContent" class="tab-content">
              <div class="tab-pane fade in active" id="service-one"> <i class="fa fa-gear pull-left fa-4x"></i>
                <table class="table table-responsive">
				  <tr>

			<td colspan="2">
              <div class="well datetime">
                  <input lang="en" type="text" id="selectDate_One" class="span2 dp1" readonly="true" placeholder="Select Date">
              </div>
           
              <div class="datetime1">
                    <input lang="en" class="timepicker1" id="selectTime_One" type="text" name="timepicker1" readonly="true" placeholder="Select Time"/>
              </div>
			</td>
				  </tr>	
				  <tr>
                    <td lang="en" >Mode</td>
                    <td>
						<input lang="en" placeholder="Travel Mode" id="travelMode" type="hidden" style="width: 98%">
                	</td>
                  </tr>
                  <tr>
                    <td lang="en">Class</td>
                    <td>
				<input lang="en" placeholder="Travel Category" id="travelCategory" type="hidden" style="width: 98%">
					</td>
                  </tr>
				  </table>
				  <p><font lang="en" face="verdana" size="2" color="green">Specify only if you require travel desk to book any of these 3:</font></p>
				  <table class="table table-responsive">
                  <tr>
                    <td id="carDisabled" style="width: 100px;"><img src="images/oldcarbnw.png" onclick="setBooleanValueCar();"></td>
					<td id="carActive" style="display:none;width: 100px;"><img src="images/oldcar1.png" onclick="setBooleanValueCar();"></td>
                    <td><input lang="en" id="travelCar" type="text" placeholder="Cab /Car Hire Instruction" onclick="setBooleanValueCarTextField();" ></td>
                  </tr>
                  <tr>
                    <td id="hotelDisabled" style="width: 100px;"><img src="images/oldhotelbnw.png" onclick="setBooleanValueHotel();"></td>
					<td id="hotelActive" style="display:none;width: 100px;"><img src="images/oldhotel1.png" onclick="setBooleanValueHotel();" ></td>
                    <td><input lang="en" id="travelHotel" type="text" placeholder="Accommodation Instruction" onclick="setBooleanValueHotelTextField();" ></td>
                  </tr>
                  <tr>
                     <td id="ticketDisabled" style="width: 100px;"><img src="images/oldplanebnw.png" onclick="setBooleanValueTicket();"></td>
					 <td id="ticketActive" style="display:none;width: 100px;"><img src="images/oldplane1.png" onclick="setBooleanValueTicket();"></td>
                    <td><input lang="en" id="travelPlane" type="text" placeholder="Ticket Instruction" onclick="setBooleanValueTicketTextField();" ></td>
                  </tr>
                </table>
              </div>
              <div class="tab-pane fade" id="service-two"> <i class="fa fa-gears pull-left fa-4x"></i>
                <table class="table table-responsive">
					<tr>
				<td colspan="2">
              <div class="well datetime">
                  <input lang="en" type="text" id="selectDate_Three" class="span2 dp1" readonly="true" placeholder="Select Date">
              </div>
           
              <div class="datetime1">
                    <input lang="en" class="timepicker1" id="selectTime_Three" type="text" name="timepicker1" readonly="true" placeholder="Select Time"/>
              </div>
          </td>
				  </tr>	<tr>
					<td colspan="2">
              <div class="well datetime">
                  <input lang="en" type="text" id="selectDate_Two" class="span2 dp1" readonly="true" placeholder="Select Date">
              </div>
           
              <div class="datetime1">
                    <input lang="en" class="timepicker1" id="selectTime_Two" type="text" name="timepicker1" readonly="true" placeholder="Select Time"/>
              </div>
          </td>
				  </tr>	
                  <tr>
                    <td lang="en">Mode</td>
                    <td>
						<input lang="en" placeholder="Travel Mode" id="roundTripMode" type="hidden" style="width: 98%">
					</td>
                  </tr>
                  <tr>
                    <td lang="en">Class</td>
                     <td>
						<input lang="en" placeholder="Travel Category" id="roundTripCategory" type="hidden" style="width: 98%">
					</td>
                  </tr>
				  </table>
				  <p><font lang="en" face="verdana" size="1" color="green">Specify only if you require travel desk to book any of these 3:</font></p>
				  				<table class="table table-responsive">
                  <tr>
					<td id="carRoundDisabled" style="width: 100px;"><img src="images/oldcarbnw.png" onclick="setBooleanValueCarRound();"></td>
					<td id="carRoundActive" style="display:none; width: 100px;"><img src="images/oldcar1.png" onclick="setBooleanValueCarRound();"></td>
                    <td><input lang="en" id="roundTravelCar" type="text" placeholder="Cab /Car Hire Instruction" onclick="setBooleanValueCarRoundTextField();" ></td>
                  </tr>
                  <tr>
					<td id="hotelRoundDisabled" style="width: 100px;"><img src="images/oldhotelbnw.png" onclick="setBooleanValueHotelRound();"></td>
					<td id="hotelRoundActive" style="display:none;width: 100px;"><img src="images/oldhotel1.png" onclick="setBooleanValueHotelRound();"></td>
                    <td><input lang="en" id="roundTravelHotel" type="text" placeholder="Accommodation Instruction" onclick="setBooleanValueHotelRoundTextField();" ></td>
                  </tr>
                  <tr>
					<td id="ticketRoundDisabled" style="width: 100px;"><img src="images/oldplanebnw.png" onclick="setBooleanValueTicketRound();"></td>
					<td id="ticketRoundActive" style="display:none;width: 100px;"><img src="images/oldplane1.png" onclick="setBooleanValueTicketRound();"></td>
                    <td><input lang="en" id="roundTravelPlane" type="text" placeholder="Ticket Instruction" onclick="setBooleanValueTicketRoundTextField();" ></td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
		  <div ></div>
          <div class="col-lg-12 clearfix expsync">
		    <div class="row form-group">
              <div class="col-lg-12" style="padding-top: 22px;">
                <button lang="en" class="btn btn-primary btn-lg btn-block" onclick="syncSubmitTravelDetails();">Send for Approval</button>
              </div>
            </div>
          </div>
        </div>
        <div  style="display:none" id="loading_Cat" >
               <img src="images/loading2.gif" id="loading-image_Cat" alt="Loading..." >
		</div>
      </div>
      
	 <script>
     $(function() {
	$( "#selectDate_One" ).datepicker();
	$("#selectDate_Three").datepicker({
     onSelect:function(selectedDate)
     {
	   var date = new Date(selectedDate);
		$('#selectDate_Two').datepicker({
		minDate: new Date(date.getFullYear(), date.getMonth(), date.getDate())
		});
     }
	});
	
  });
	  
	 j("#travelMode").change(function() {
		 getCatergoryBasedOnMode();
	  });
	
	j("#roundTripMode").change(function() {
		 getRoundCatergoryBasedOnMode();
	  });
         
		onloadTravelData();
        onloadDefaultValue();
        onloadTimePicker();
	  </script> 

</div>
<div class="tab-1 resp-tab-content" aria-labelledby="tab_item-1">
     <div class="modal-body clearfix">
        <div class="row" style="padding-left: 25px;padding-right: 25px;">
          <div class="col-lg-12 clearfix addanexpense">
            <h1 lang="en">Add Travel Expense</h1>
            <div class="expenseform clearfix" data-role="page" id="page1">
              <ul>
                <li>
             <input  lang="en" placeholder="Travel Request Number" id="travelRequestName" type="hidden" style="width: 98%">
                    <br><br>
				   <p><font lang="en" face="verdana" size="0.8" color="green">Start Dt.</font><label for="startDate" style="width: 38%"  />
				    <font lang="en" face="verdana" size="0.8" color="green">End Dt.</font><label for="endDate" style="width: 38%"/></p>
				</li>
				<li>
                  <div role="main" class="ui-content">
                    <input lang="en" id="expDate" type="text" class="span2 dp1" placeholder="Date" readonly="readonly">
                  </div>
                </li>
				<li>
                  <input lang="en" placeholder="Expense Name" id="travelExpenseName" type="hidden" style="width: 98%">
                </li>
                <li>
					<input lang="en" placeholder="Travel Mode" id="travelModeForTS" type="hidden" style="width: 49%">
               
				<input lang="en" placeholder="Travel Category" id="travelCategoryForTS" type="hidden" style="width: 49%">
				</li>
                <li>
                    <input lang="en" placeholder="From Location" id="Citytown" type="hidden" style="width: 98%">
                </li>
				<li>
                    <input lang="en" id="expNarration" type="text" placeholder="Enter Expense Narration" >
                </li>
                <li>
                    <p ><font lang="en" face="verdana" size="1" color="green">Unit is no. of persons/Kms/meals etc.</font></p>
					<input lang="en" id="expUnit" style="width: 22%" type="tel" placeholder="Units" onkeyup="">
                
					<input lang="en" id="expAmt" style="width: 38%" type="tel" placeholder="Amount" onkeyup="validate();">
                
					<input id="currency" style="width: 33%" type="hidden" >
                </li>
				<div >
				<li style="text-align:left;">
                  <ul>
					  <img src="images/camera.png" onclick="capturePhoto(0,'TS');" width="15%" height="15%" >
					  <img src="images/gallery.png" onclick="getPhoto(pictureSource.PHOTOLIBRARY,0,'TS');" width="15%" height="15%" >
					  <img style="display:none;width:40%;height:100px;align:right;" id="smallImageTS" src="" />
					  <input style="display:none;" type="file" id="imageTS" />
				  </ul>
				</li>
			   </div>
			    <div lang="en" style="display:none" id="displayTextTS" class="displayTextTSCSS">
						Expenses added successfully.
				</div>
              </ul>
            </div>
          </div>
		  <div style="text-align:center;">
            <button lang="en" class="btn btn-primary btn-lg " style="width: 40%;height: 44px;" onclick="saveTravelSettleDetails(0);">Save &amp; New</button>
            <button  lang="en" class="btn btn-primary btn-lg " style="width: 40%" onclick="saveTravelSettleDetails(1);">Save &amp; Go to Sync</button>
		  </div>
         
        </div>
    </div>
	  <script>
    onloadTravelSettleData();
     j("#travelRequestName").change(function() {
      getExpenseNamesOnRequestNoChange();
      getStartandEndOnRequestNoChange();
	  getCurrencyOnRequestNoChange();
    });
		
      j("#travelExpenseName").change(function() {
      getModeCatergoryBasedOnExpenseName();
    });
     j("#travelModeForTS").change(function() {
      getCatergoryBasedOnModeForTS();
  });
  function validate()
  {
	var field = document.getElementById("expAmt");
	if (field.value.length > 8 ) {
		field.value = field.value.substring(0, 8);
		alert(window.lang.translate('Amount cannot be greater than 99999999.99'));
		field.value='';
		return false;
	}
  }
	  </script>  
</div>
    <div class="tab-1 resp-tab-content" aria-labelledby="tab_item-2">

<div class="modal-body clearfix">
        <div class="row" style="padding-left: 25px;padding-right: 25px;">
		<div class="col-lg-12 clearfix allexpebtn" id="box">
		<h1 lang="en" >View Travel Expense</h1>
		</div>
          <div class="col-lg-12 clearfix expsync">
      <div style="display:none" id="displayError" class="displayTextError">
              <span id="errorMsg"></span> 
         </div>
         </div>
        </div>
		<div>
	  </div>
</div>
<script>
fetchTravelSettlementExp();
</script> 
         </div>
                 </div>
                      <script src="js/easyResponsiveTabs.js" type="text/javascript"></script>
				      <script type="text/javascript">
								$(document).ready(function () {
								$('#horizontalTab').easyResponsiveTabs({
								type: 'default', //Types: default, vertical, accordion           
								width: 'auto', //auto or any width like 600px
								fit: true   // 100% fit in a container
								});
								});
				     </script>	
        </div>			
    </div>
              <div  style="display:none" id="loading_Cat" >
               <img src="images/loading2.gif" id="loading-image_Cat" alt="Loading..." >
		     </div>
</div>
